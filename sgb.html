<!DOCTYPE html>
<html style="background-image:url(Ressources/SGB2.png);">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="Ressources/favicon.ico" />
    <link href="https://fonts.googleapis.com/css?family=Oswald|Roboto+Condensed&display=swap" rel="stylesheet">
    <script type="text/javascript" src="js.js"></script>
    <title>Super Geoffrey Bros -- Nytuo Launcher</title>
</head>
<header>
    <script>
        function gohome() {
            if (navigator.onLine == true) {
                window.location.href = "https://launcher.nytuo.yo.fr/profile.php"
            } else {
                window.location.href = "index.html"
            }
        }

    </script>
    <nav id="nav">
        <ul style="padding: auto;">
            <img src="Ressources/logoLauncher.png" class="logonav" title="Logo de Nytuo"
                style="text-align:left;width: 15%;">
            <div style="float: right;">
                <li><a href="about.html">Settings</a></li>

                <li><a onclick="gohome()" style="cursor: pointer;">Games</a>
                <li>
                <li><a href="news.html">News</a></li>
            </div>
        </ul>
    </nav>
</header>

<body>
    <div id="overlay">
        <div style="text-align: center;margin-top: 20%;">
            <div class="lds-roller">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>
    <!--Detection de la version et remplacement du text de version en conséquence-->
    <iframe
        onload="detect('SGB','SGB_Version.txt','SGB_Version.txt','Super Geoffrey Bros','versiontxtsgb','https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz')"
        src="javascript:void(0)" style="display: none;"></iframe>
    <!--Placement du titre du jeu, du text version et de l'affiche-->
    <div style="padding-top: 8%;"></div>
    <table style="width: 100%;">
        <tr>
            <td style="float: left;">

                <div class="card 1">
                    <div class="card_image"> <img src="Ressources/SGB2.png" /> </div>
                    <div class="card_title title-white">
                        <img src="Ressources/SGB1.png" style="z-index: 1; width: 55%;top: 40%;left: 35%">
                    </div>
                </div>

            </td>
            <td>
                <h1 class="paraTXTSGB">Super Geoffrey Bros</h1>
                <h2 class="paraTXTSGB" id="versiontxtsgb"> Version : </h2>
            </td>
        </tr>
    </table>
    <!--Buttons-->
    <div style="text-align: center;width: 100%;">
        <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
            <table style="text-align: center;">
                <tr>
                    <td>
                        <div class="box-3">

                            <a onclick="document.getElementById('ConfirmDL').style.display='block';"
                                href="javascript:void(0)">
                                <div class="btn btn-three">
                                    <span id="SGBbutton1">PLAY</span>
                                </div>
                            </a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="box-3">
                            <a onclick="document.getElementById('ConfirmOL').style.display='block'">
                                <div class="btn btn-three">
                                    <span>Play Online</span>
                                </div>
                            </a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="box-3">
                            <a id="SGBbutton2" onclick="document.getElementById('id03').style.display='block'">
                                <div class="btn btn-three">
                                    <span id="SGBbutton2">Achievements</span>
                                </div>
                            </a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="box-3">
                            <a id="SGBbutton3" onclick="document.getElementById('id01').style.display='block'"
                                href="javascript:void(0)">
                                <div class="btn btn-three">
                                    <span id="SGBbutton3">Settings</span>
                                </div>
                            </a>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>


    <!--Confirmation de déinstallation-->
    <div id="ConfirmUN" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <h1>Confirmation :</h1>
            <h2>You are about to DELETE Super Geoffrey Bros</h2>
            <h3>This action can't be undone.</br>If you search to repair the game is not here.</br>All the data (saves
                and achievements) may be loose (You can eventually do a manual backup)</h3>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('ConfirmUN').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>No</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td>
                            <div class="box-3">
                                <a onclick="deletefolder(gamelocation+'/Games/SGB')">
                                    <div class="btn btn-three">
                                        <span>Yes</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--Confirmation de réparation-->
    <div id="ConfirmUP" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <h1>Confirmation :</h1>
            <h2>You are about to repair Super Geoffrey Bros</h2>
            <h3>All your data will be loose, please do a manual backup</h3>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('ConfirmUP').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>No</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td>
                            <div class="box-3">
                                <a
                                    onclick="document.getElementById('ConfirmUP').style.display='none';document.getElementById('id02').style.display='block';repair('https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz','SGB','SGB.zip','https://1drv.ws/u/s!AkkqGntQc7Y5hJoopV-SOJfhLYFSvA?e=9JoMti','https://1drv.ws/u/s!AkkqGntQc7Y5hJopCrrDVVHteOUoaw?e=pbdjt4')">
                                    <div class="btn btn-three">
                                        <span>Yes</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--Confirmation de lancement en ligne-->
    <div id="ConfirmOL" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <h1>Confirmation :</h1>
            <h2>You are about to Play Super Geoffrey Bros Online</h2>
            <h3>The online version is the same of the downloadable one.But the achievements system doesn't work.</h3>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('ConfirmOL').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>No</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td>
                            <div class="box-3">
                                <a
                                    onclick="document.getElementById('ConfirmOL').style.display='none';RunWithoutInstall('https://itch.io/embed-upload/1461064?color=303030')">
                                    <div class="btn btn-three">
                                        <span>Yes</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--Game Settings-->
    <div id="id01" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <div class="imgcontainer">
                <h1>Game Settings</h1>
            </div>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td style="text-align: center;">
                            <div class="box-3">
                                <a onclick="document.getElementById('id01').style.display='none';document.getElementById('ConfirmUP').style.display='block';"
                                    href="javascript:void(0)">
                                    <div class="btn btn-three">
                                        <span>Repair</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('id01').style.display='none';document.getElementById('ConfirmUN').style.display='block';"
                                    href="javascript:void(0)">
                                    <div class="btn btn-three">
                                        <span>Uninstall</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="OpenEmpl(gamelocation+'/Games/SGB/')" href="javascript:void(0)">
                                    <div class="btn btn-three">
                                        <span>Open Game Location</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="createlink(gamelocation+'/Games/SGB/nw.exe',require('path').join(require('os').homedir(),'Desktop'))"
                                    href="javascript:void(0)">
                                    <div class="btn btn-three">
                                        <span>ShortCut</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <div style="padding-top: 2%;"></div>
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('id01').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>Back</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--Download-->
    <div id="id02" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <div class="imgcontainer">
                <h1 id="DLTEXT">Downloading... </h1>
            </div>
            <div class="progressBarLAATIM">
                <div id="myProgress" style="text-align: center; ">
                    <div id="myBar" style="background-color: #FBCF08;
                    color: black;"></div>
                </div>
            </div>
            <div style="padding-top: 2%;"></div>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="refresh()">
                                    <div class="btn btn-three">
                                        <span>Cancel</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!--Achievements-->
    <div id="id03" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('id03').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>Back</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="imgcontainer">
                <h1>Achievements</h1>
            </div>

            <div id="ProgressAchSGB" style="text-align: center;">
                <div id="BarAchSGB" style="background-color: #FBCF08;
                color: black;"></div>
            </div>
            <h1 style="padding-left: 20px;">Achievements unlocked : </h1>

            <p id="SGBachDone"></p>
            <h1 style="padding-left: 20px;">Achievements locked : </h1>
            <p id="SGBach"></p>

        </div>
    </div>
    <!--Confirmation de téléchargement-->
    <div id="ConfirmDL" class="modal">

        <div class="modal-content animate" style="text-align: center;">
            <h1>Confirmation :</h1>
            <h2 id="resultofcalculsize">Wait a moment ...</h2>
            <div style="display: flex;flex-direction: column;flex-wrap: wrap;">
                <table>
                    <tr>
                        <td>
                            <div class="box-3">
                                <a onclick="document.getElementById('ConfirmDL').style.display='none'">
                                    <div class="btn btn-three">
                                        <span>No</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td>
                            <div class="box-3">
                                <a onclick="whattodo()">
                                    <script>
                                        var fs = require('fs');
                                        function connectest() {
                                            if (process.platform == "linux") {
                                                return fs.readFileSync(app.getPath("documents") + "/nytuolauncher_data/connected.txt");
                                            } else {
                                                return fs.readFileSync(__dirname + "/connected.txt");
                                            }

                                        }
                                        var connectedtointernet = connectest();
                                        function whattodo() {
                                            if (connectedtointernet == "true") {
                                                if (document.getElementById('SGBbutton1').innerHTML === "Install") {
                                                    document.getElementById('ConfirmDL').style.display = 'none';
                                                    document.getElementById('id02').style.display = 'block';
                                                    Do('SGB', 'SGB_Version.txt', 'https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz', 'SGB.zip', 'SGB_Version.txt', 'nw.exe', 'Super Geoffrey Bros', 'nw', 'nwjs.app', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJoopV-SOJfhLYFSvA?e=9JoMti', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJopCrrDVVHteOUoaw?e=pbdjt4');
                                                }
                                                if (document.getElementById('SGBbutton1').innerHTML === "Update") {
                                                    document.getElementById('ConfirmDL').style.display = 'none';
                                                    document.getElementById('id02').style.display = 'block';
                                                    Do('SGB', 'SGB_Version.txt', 'https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz', 'SGB.zip', 'SGB_Version.txt', 'nw.exe', 'Super Geoffrey Bros', 'nw', 'nwjs.app', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJoopV-SOJfhLYFSvA?e=9JoMti', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJopCrrDVVHteOUoaw?e=pbdjt4');
                                                }
                                                if (document.getElementById('SGBbutton1').innerHTML === "Play") {
                                                    document.getElementById('ConfirmDL').style.display = 'none';
                                                    Do('SGB', 'SGB_Version.txt', 'https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz', 'SGB.zip', 'SGB_Version.txt', 'nw.exe', 'Super Geoffrey Bros', 'nw', 'nwjs.app', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJoopV-SOJfhLYFSvA?e=9JoMti', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJopCrrDVVHteOUoaw?e=pbdjt4');
                                                }
                                            } else {
                                                if (document.getElementById('SGBbutton1').innerHTML === "Play") {
                                                    document.getElementById('ConfirmDL').style.display = 'none';
                                                    Do('SGB', 'SGB_Version.txt', 'https://1drv.ws/u/s!AkkqGntQc7Y5hIVjIheY_aPr1832Gg?e=bQLmFz', 'SGB.zip', 'SGB_Version.txt', 'nw.exe', 'Super Geoffrey Bros', 'nw', 'nwjs.app', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJoopV-SOJfhLYFSvA?e=9JoMti', 'https://1drv.ws/u/s!AkkqGntQc7Y5hJopCrrDVVHteOUoaw?e=pbdjt4');
                                                }
                                                else {
                                                    alert("You\'re not connected to the internet, please restart the launcher with an internet connection")
                                                }
                                            }
                                        }
                                    </script>
                                    <div class="btn btn-three">
                                        <span>Yes</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>



            <!--Script-->
            <script>
                // Get the modal
                var modal = document.getElementById('id01');
                var modal2 = document.getElementById('id02');
                var modal3 = document.getElementById('id03');
                var modal4 = document.getElementById('ConfirmDL');
                var modal5 = document.getElementById('ConfirmUN');

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                    if (event.target == modal3) {
                        modal3.style.display = "none";
                    }
                    if (event.target == modal4) {
                        modal4.style.display = "none";
                    }
                    if (event.target == modal5) {
                        modal5.style.display = "none";
                    }
                }
                LoadAchivements()
            </script>
</body>

</html>